colors: true

prepare-commit-msg:
  commands:
    commitizen:
      interactive: true
      skip:
        - merge
        - rebase
        - merge-commit
        - run: '[ -z "$TERM" ] || [ "$TERM" = "dumb" ]'
      run: npx cz --hook

commit-msg:
  commands:
    commitlint:
      skip:
        - merge
        - rebase
        - merge-commit
      run: npx yarn commitlint --edit $1

pre-commit:
  parallel: true
  commands:
    eslint:
      skip:
        - merge
        - rebase
        - merge-commit
      glob: "*.{ts,tsx}"
      run: npx yarn eslint --fix {staged_files}
      stage_fixed: true
    type-check:
      skip:
        - merge
        - rebase
        - merge-commit
      glob: "*.{ts,tsx}"
      run: npx yarn tsc --noEmit
